<!DOCTYPE html>
<html lang="zh-hans">
<head>
	<meta charset="UTF-8">
	<title>导航</title>
	<link rel="stylesheet" href="style.css">
</head>
<body>
	<header></header>
	<main>
		<div id="x" class="wrapper"></div>
	</main>
	<footer></footer>
	<script>
		var keys = {
			0:['q','w','e','r','t','y','u','i','o','p'],
			1:['a','s','d','f','g','h','j','k','l'],
			2:['z','x','c','v','b','n','m'],
			length:3
		}
		var hash = {
			q: 'qq.com',
			w: 'weibo.com',
			e: 'ele.me',
			r: 'renren.com',
			y: 'youtube.com',
			u: 'uc.com',
			i: 'iqiyi.com',
			o: 'opera.com',
			p: 'undefined',
			a: 'alibaba.com',
			s: 'sohu.com',
			z: 'zhihu.com',
			m: 'www.mcdonalds.com,cn'
		}
		//取出localStorage中对应的hash
		var hashLocalStorage = JSON.parse(localStorage.getItem('hashSto') || 'null');
		if(hashLocalStorage){
			hash = hashLocalStorage;
		}
		// 遍历keys生成kbd
		for(var index=0;index < keys.length;index++){
			divWrap = document.createElement('div')
			x.appendChild(divWrap)

			
			for(var i=0; i<keys[index].length;i++){
				z = document.createElement('kbd')
				z.textContent = keys[index][i]
				divWrap.appendChild(z);

				// 添加编辑功能
				buttonX = document.createElement('button')
				//添加id方便选中
				buttonX.id = keys[index][i]
				z.appendChild(buttonX);
				buttonX.textContent = '编辑'

				//点击更换
				buttonX.onclick = function(xxxddd){
				key = xxxddd.target.id
				// 弹出对话框
				site = prompt('给我一个网址')
				hash[key] = site;	//hash变更
				//存
				localStorage.setItem('hashSto',JSON.stringify(hash));
				}
			
			}
		}
		//键盘添加事件
		document.onkeypress = function(ddaadad){
			key = ddaadad['key']	//拿到键

			website = hash[key]		//取出网站

			//location.href = 'http://' + website　//当前页面打开
			
			window.open('http://'+website,'_blank')//新开页面
		}

		
	</script>
</body>
</html>